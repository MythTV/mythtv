#
# Copyright (C) 2022-2023 David Hampton
#
# See the file LICENSE_FSF for licensing information.
#

#
# This directory is only processed when USING_BINDINGS_PYTHON is set.
#
if(NOT USING_BINDINGS_PYTHON)
  return()
endif()

#
# The cmake documentation strongly recommands against globbing source file
# names, thus this explicit list of filenames.
#
set(PYFILES
    config.py
    defaults.cfg
    deleteProfile.py
    devicelist.py
    fs_util.py
    gate.py
    getLink.py
    hwdata.py
    i18n.py
    __init__.py
    MultipartPostHandler.py
    os_detect.py
    request.py
    scan.py
    sendProfile.py
    smolt_config.py
    smolt.py
    software.py
    uuiddb.py
    distros/all.py
    distros/distro.py
    distros/__init__.py
    distros/mythtv_data/data_mythtv.py
    distros/mythtv_data/__init__.py
    distros/mythtv_data/main.py
    distros/mythtv_data/makeopts.py
    distros/mythtv_data/orddict.py
    distros/mythtv_data/request.py
    distros/mythtv_data/uuiddb.py
    distros/shared/html.py
    distros/shared/__init__.py)

unset(PROCESSED_FILES)
fix_shebang_install_python("hardwareprofile" PYFILES)

# This custom target dependes on all of the files generated by the above custom
# commands, which is what causes those commands to actually be executed.
add_custom_target(hardwareprofile ALL DEPENDS ${PROCESSED_FILES})
